<!DOCTYPE html>

<html>

<head>

</head>

<body>

    <script> 
    
    //Esta funcion se encarga de elegir de forma aleatoria una jugada, ya sea piedra,papel o tijera.
    function computerPlay (){
        let computerPick;
        let randomPlay = Math.round(Math.random() * 2);
        switch (randomPlay){
            case 0:
                computerPick = "Rock";
                break;
            case 1:
                computerPick = "Paper";
                break;
            case 2:
                computerPick = "Scissors";
                break;
        }
        return computerPick.toLowerCase();
    }

    function playRound(playerSelection, computerSelection){
        if(playerSelection === "rock"){
            switch(computerSelection){
                case "rock":
                    return "Tie Game";
                    break;
                case "paper":
                    return "You lose, paper beats rock";
                    break;
                case "scissors":
                    return "You win, rock beats scissors";
                    break;
            }
        }else if(playerSelection === "paper"){
            switch(computerSelection){
                case "rock":
                    return "You win, paper beats rock";r
                    break;
                case "paper":
                    return "Tie Game"
                    break;
                case "scissors":
                    return "You lose, paper lose to scissors";
                    break;
            }
        }else if(playerSelection === "scissors"){
            switch(computerSelection){
                case "rock":
                    return "You lose, scissors lose to rock";
                    break;
                case "paper":
                    return "You win, scissors beats paper";
                    break;
                case "scissors":
                    return "Tie game";
                    break;
            }
        }
        
    }
    function playerPlay(){
        let box = true;
        let playerSelection;
        while(box){
            playerSelection = prompt("Que deseas jugar? (rock, paper or scissors)").toLowerCase();
            if(playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors"){
                return playerSelection;
            }else{
                alert("Escoge una jugada correcta");
            }
        }
    }

    function game(){

            let playerScore = 0;
            let computerScore = 0;
            let tieScore = 0;
            let playerSelection;

        for(i = 0; i < 5; i++){
            playerSelection = playerPlay();
            let computerSelection = computerPlay();          
            if(playRound(playerSelection, computerSelection).includes("lose")){
                console.log(playRound(playerSelection, computerSelection))
                computerScore = computerScore + 1;
            }else if(playRound(playerSelection, computerSelection).includes("win")){
                console.log(playRound(playerSelection, computerSelection))    
                playerScore = playerScore + 1;
            }else if(playRound(playerSelection, computerSelection).includes("Tie")){
                console.log(playRound(playerSelection, computerSelection))
                tieScore = tieScore + 1;
            }else console.log("error")
            console.log("Player have: " + playerScore + " score")
            console.log("Computer have: " + computerScore + " score")
            console.log("Tie games: " + tieScore)
        }
        if(playerScore > computerScore){
            alert("Has ganado, felicitaciones!")
        }else if(playerScore < computerScore){
            alert("Has perdido, mejor para la proxima!")
        }else alert("Empate!")
    }
    game();

    </script>

</body>

</html>